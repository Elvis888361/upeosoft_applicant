{"ast":null,"code":"var _jsxFileName = \"/home/frappe/student_applicant/src/ApplicationForm/Attachments.js\";\nimport React, { useContext, useState } from \"react\";\nimport { ApplicantContext } from \"./ApplicantContext\";\n//GENERAL\nimport { TextField, Grid } from \"@material-ui/core\";\n\n//USER PREFERENCES\nexport default (props => {\n  const [state] = useContext(ApplicantContext);\n  const {\n    user,\n    errors\n  } = state;\n  const dateLimit = new Date();\n  dateLimit.setFullYear(dateLimit.getFullYear() - 15);\n  const [kcse_certificate, setKcse_certificate] = useState(null);\n  const [trial, setTrial] = useState(null);\n  const handleChangetext = event => {\n    setSalutation(event.target.value);\n    user.salutation = event.target.value;\n  };\n  const handleChangeKcse_Certificate = event => {\n    const u = event.target.files[0];\n    convertBase64(u);\n  };\n  const convertBase64 = u => {\n    return new Promise((resolve, reject) => {\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(u);\n      fileReader.onload = () => {\n        resolve(fileReader.result);\n        setKcse_certificate(fileReader.result);\n        let t = fileReader.result;\n        user.kcse_certificate = t;\n        console.log(t);\n      };\n      fileReader.onerror = error => {\n        reject(error);\n      };\n    });\n  };\n  return /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    lg: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"kcse_cert\",\n    value: kcse_certificate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    type: \"file\",\n    inputProps: {\n      accept: 'image/*, .xlsx, .xls, .csv, .pdf, .pptx, .pptm, .ppt'\n    },\n    name: \"kcse_certificate\",\n    label: \"Kcse Certificate\",\n    value: user.kcse_certificate,\n    variant: \"outlined\",\n    margin: \"normal\",\n    onChange: handleChangeKcse_Certificate,\n    InputLabelProps: {\n      shrink: true\n    },\n    error: !!errors[\"kcse_certificate\"],\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    lg: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"high_school_leaving_certificate\",\n    label: \"High School Leaving Certificate\",\n    value: user.high_school_leaving_certificate,\n    type: \"file\",\n    variant: \"outlined\",\n    margin: \"normal\",\n    InputLabelProps: {\n      shrink: true\n    },\n    error: !!errors[\"high_school_leaving_certificate\"],\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    lg: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    type: \"file\",\n    name: \"national_id\",\n    label: \"National Id\",\n    defaultValue: user.national_id,\n    variant: \"outlined\",\n    margin: \"normal\",\n    helperText: \"If Applicable\",\n    InputLabelProps: {\n      shrink: true\n    },\n    error: !!errors[\"national_id\"],\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    lg: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"image\",\n    label: \"Passport Image\",\n    value: user.image,\n    type: \"file\",\n    variant: \"outlined\",\n    margin: \"normal\",\n    InputLabelProps: {\n      shrink: true\n    },\n    error: !!errors[\"image\"],\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  })));\n});","map":{"version":3,"names":["React","useContext","useState","ApplicantContext","TextField","Grid","props","state","user","errors","dateLimit","Date","setFullYear","getFullYear","kcse_certificate","setKcse_certificate","trial","setTrial","handleChangetext","event","setSalutation","target","value","salutation","handleChangeKcse_Certificate","u","files","convertBase64","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","result","t","console","log","onerror","error","createElement","container","spacing","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","item","xs","lg","type","name","inputProps","accept","label","variant","margin","onChange","InputLabelProps","shrink","fullWidth","high_school_leaving_certificate","defaultValue","national_id","helperText","image"],"sources":["/home/frappe/student_applicant/src/ApplicationForm/Attachments.js"],"sourcesContent":["import React, { useContext ,useState} from \"react\";\nimport { ApplicantContext } from \"./ApplicantContext\";\n//GENERAL\nimport { TextField, Grid } from \"@material-ui/core\";\n\n//USER PREFERENCES\nexport default props => {\n  const [state] = useContext(ApplicantContext);\n  const { user,errors } = state;\n  const dateLimit = new Date();\n  dateLimit.setFullYear(dateLimit.getFullYear() - 15);\n  const [kcse_certificate, setKcse_certificate] = useState(null);\n  const [trial,setTrial]=useState(null);\n  const handleChangetext = (event) => {\n    setSalutation(event.target.value);\n    user.salutation = event.target.value;\n  };\n  const handleChangeKcse_Certificate = (event) => {\n    const u = event.target.files[0];\n    convertBase64(u)\n  };\n\n  const convertBase64 = (u) => {\n    return new Promise((resolve, reject) => {\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(u)\n      fileReader.onload = () => {\n        resolve(fileReader.result);\n        setKcse_certificate(fileReader.result)\n        let t=fileReader.result\n        user.kcse_certificate=t\n        console.log(t);\n      }\n      fileReader.onerror = (error) => {\n        reject(error);\n      }\n    })\n  };\n  \n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12} lg={6}>\n      <input type=\"text\" name=\"kcse_cert\" value={kcse_certificate}/>\n  \n       <TextField\n          type='file'\n          inputProps={{ accept: 'image/*, .xlsx, .xls, .csv, .pdf, .pptx, .pptm, .ppt' }}\n          name='kcse_certificate'\n          label='Kcse Certificate'\n          value={user.kcse_certificate}\n          variant='outlined'\n          margin='normal'\n          onChange={handleChangeKcse_Certificate}\n          InputLabelProps={{\n            shrink: true\n          }}\n          error={!!errors[\"kcse_certificate\"]}\n          fullWidth\n        />\n      </Grid>\n      <Grid item xs={12} lg={6}>\n        <TextField\n          name='high_school_leaving_certificate'\n          label='High School Leaving Certificate'\n          value={user.high_school_leaving_certificate}\n          type='file'\n          variant='outlined'\n          margin='normal'\n          InputLabelProps={{\n            shrink: true\n          }}\n          error={!!errors[\"high_school_leaving_certificate\"]}\n          fullWidth\n        />\n        </Grid>\n        <Grid item xs={12} lg={6}>\n       <TextField\n          type='file'\n          name='national_id'\n          label='National Id'\n          defaultValue={user.national_id}\n          variant='outlined'\n          margin='normal'\n          helperText='If Applicable'\n          InputLabelProps={{\n            shrink: true\n          }}\n          error={!!errors[\"national_id\"]}\n          fullWidth\n        />\n      </Grid>\n      <Grid item xs={12} lg={6}>\n        <TextField\n          name='image'\n          label='Passport Image'\n          value={user.image}\n          type='file'\n          variant='outlined'\n          margin='normal'\n          InputLabelProps={{\n            shrink: true\n          }}\n          error={!!errors[\"image\"]}\n          fullWidth\n        />\n        </Grid>\n    </Grid>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}